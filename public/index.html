<!DOCTYPE html>
<html lang="bn">
<head>
┬а <meta charset="UTF-8" />
┬а <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
┬а <title>ЁЯУВ MyDrive</title>
┬а <style>
┬а ┬а body {
┬а ┬а ┬а font-family: 'Segoe UI', sans-serif;
┬а ┬а ┬а background: #121212;
┬а ┬а ┬а color: #eee;
┬а ┬а ┬а margin: 0;
┬а ┬а ┬а padding: 0;
┬а ┬а }

┬а ┬а header {
┬а ┬а ┬а background-color: #1e1e1e;
┬а ┬а ┬а color: #fff;
┬а ┬а ┬а padding: 15px 30px;
┬а ┬а ┬а font-size: 24px;
┬а ┬а ┬а font-weight: bold;
┬а ┬а ┬а display: flex;
┬а ┬а ┬а align-items: center;
┬а ┬а ┬а justify-content: space-between;
┬а ┬а ┬а box-shadow: 0 2px 5px rgba(0,0,0,0.5);
┬а ┬а ┬а position: relative;
┬а ┬а }

┬а ┬а .menu {
┬а ┬а ┬а font-size: 24px;
┬а ┬а ┬а cursor: pointer;
┬а ┬а ┬а padding: 0 10px;
┬а ┬а }

┬а ┬а .dropdown {
┬а ┬а ┬а position: absolute;
┬а ┬а ┬а top: 60px;
┬а ┬а ┬а right: 10px;
┬а ┬а ┬а background: #1e1e1e;
┬а ┬а ┬а border: 1px solid #333;
┬а ┬а ┬а border-radius: 8px;
┬а ┬а ┬а opacity: 0;
┬а ┬а ┬а transform: translateY(-10px);
┬а ┬а ┬а pointer-events: none;
┬а ┬а ┬а transition: all 0.2s ease-in-out;
┬а ┬а ┬а z-index: 10;
┬а ┬а }

┬а ┬а .dropdown.show {
┬а ┬а ┬а opacity: 1;
┬а ┬а ┬а transform: translateY(0);
┬а ┬а ┬а pointer-events: auto;
┬а ┬а }

┬а ┬а .dropdown button {
┬а ┬а ┬а color: #eee;
┬а ┬а ┬а padding: 10px 20px;
┬а ┬а ┬а background: none;
┬а ┬а ┬а border: none;
┬а ┬а ┬а width: 100%;
┬а ┬а ┬а text-align: left;
┬а ┬а ┬а cursor: pointer;
┬а ┬а }

┬а ┬а .dropdown button:hover {
┬а ┬а ┬а background: #333;
┬а ┬а }

┬а ┬а main {
┬а ┬а ┬а padding: 20px;
┬а ┬а }

┬а ┬а #homeIntro {
┬а ┬а ┬а background: #1e1e1e;
┬а ┬а ┬а padding: 30px;
┬а ┬а ┬а border-radius: 10px;
┬а ┬а ┬а box-shadow: 0 2px 8px rgba(0,0,0,0.4);
┬а ┬а ┬а margin-bottom: 30px;
┬а ┬а ┬а text-align: center;
┬а ┬а ┬а position: relative;
┬а ┬а }

┬а ┬а .lights {
┬а ┬а ┬а position: absolute;
┬а ┬а ┬а top: 10px;
┬а ┬а ┬а left: 10px;
┬а ┬а ┬а display: flex;
┬а ┬а ┬а gap: 5px;
┬а ┬а }

┬а ┬а .light {
┬а ┬а ┬а width: 12px;
┬а ┬а ┬а height: 12px;
┬а ┬а ┬а border-radius: 50%;
┬а ┬а }

┬а ┬а .red { background: #ff5f56; }
┬а ┬а .yellow { background: #ffbd2e; }
┬а ┬а .green { background: #27c93f; }

┬а ┬а #uploadSection {
┬а ┬а ┬а background: #1e1e1e;
┬а ┬а ┬а padding: 20px;
┬а ┬а ┬а border-radius: 10px;
┬а ┬а ┬а box-shadow: 0 2px 5px rgba(0,0,0,0.3);
┬а ┬а ┬а display: none;
┬а ┬а ┬а flex-wrap: wrap;
┬а ┬а ┬а align-items: center;
┬а ┬а ┬а gap: 10px;
┬а ┬а }

┬а ┬а input[type="file"] {
┬а ┬а ┬а flex: 1;
┬а ┬а ┬а background: #333;
┬а ┬а ┬а border: 1px solid #444;
┬а ┬а ┬а color: #eee;
┬а ┬а ┬а padding: 8px;
┬а ┬а ┬а border-radius: 5px;
┬а ┬а }

┬а ┬а button {
┬а ┬а ┬а background-color: #3a81f1;
┬а ┬а ┬а color: white;
┬а ┬а ┬а border: none;
┬а ┬а ┬а padding: 10px 15px;
┬а ┬а ┬а border-radius: 5px;
┬а ┬а ┬а cursor: pointer;
┬а ┬а }

┬а ┬а button:hover {
┬а ┬а ┬а background-color: #2c6adf;
┬а ┬а }

┬а ┬а progress {
┬а ┬а ┬а width: 100%;
┬а ┬а ┬а height: 15px;
┬а ┬а ┬а display: none;
┬а ┬а ┬а margin-top: 10px;
┬а ┬а }

┬а ┬а #fileList {
┬а ┬а ┬а display: none;
┬а ┬а ┬а grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
┬а ┬а ┬а gap: 15px;
┬а ┬а }

┬а ┬а .file-card {
┬а ┬а ┬а background: #1e1e1e;
┬а ┬а ┬а padding: 15px;
┬а ┬а ┬а border-radius: 10px;
┬а ┬а ┬а box-shadow: 0 1px 5px rgba(0,0,0,0.4);
┬а ┬а ┬а word-break: break-word;
┬а ┬а ┬а text-align: center;
┬а ┬а }

┬а ┬а .file-card .icon {
┬а ┬а ┬а font-size: 30px;
┬а ┬а ┬а margin-bottom: 10px;
┬а ┬а }

┬а ┬а .file-card a {
┬а ┬а ┬а text-decoration: none;
┬а ┬а ┬а color: #3a81f1;
┬а ┬а }

┬а ┬а .actions {
┬а ┬а ┬а margin-top: 10px;
┬а ┬а ┬а display: flex;
┬а ┬а ┬а justify-content: center;
┬а ┬а ┬а gap: 10px;
┬а ┬а }

┬а ┬а .actions button {
┬а ┬а ┬а padding: 5px 10px;
┬а ┬а ┬а font-size: 12px;
┬а ┬а ┬а background: #333;
┬а ┬а ┬а color: white;
┬а ┬а ┬а border: none;
┬а ┬а ┬а border-radius: 5px;
┬а ┬а }

┬а ┬а .actions button:hover {
┬а ┬а ┬а background: #444;
┬а ┬а }

┬а ┬а h2 {
┬а ┬а ┬а color: #3a81f1;
┬а ┬а ┬а margin-top: 40px;
┬а ┬а }
┬а </style>
</head>
<body>
┬а <header>
┬а ┬а ЁЯУВ MyDrive
┬а ┬а <div class="menu" onclick="toggleDropdown()">тШ░</div>
┬а ┬а <div class="dropdown" id="dropdownMenu">
┬а ┬а ┬а <button onclick="setFilter('images')">ЁЯЦ╝я╕П ржлржЯрзЛ</button>
┬а ┬а ┬а <button onclick="setFilter('videos')">ЁЯОЮя╕П ржнрж┐ржбрж┐ржУ</button>
┬а ┬а ┬а <button onclick="setFilter('audios')">ЁЯО╡ ржЕржбрж┐ржУ</button>
┬а ┬а ┬а <button onclick="setFilter('docs')">ЁЯУД ржбржХрзБржорзЗржирзНржЯ</button>
┬а ┬а ┬а <button onclick="setFilter('all')">тЬЕ рж╕ржХрж▓ ржлрж╛ржЗрж▓</button>
┬а ┬а </div>
┬а </header>

┬а <main>
┬а ┬а <div id="homeIntro">
┬а ┬а ┬а <div class="lights">
┬а ┬а ┬а ┬а <div class="light red"></div>
┬а ┬а ┬а ┬а <div class="light yellow"></div>
┬а ┬а ┬а ┬а <div class="light green"></div>
┬а ┬а ┬а </div>
┬а ┬а ┬а <h1>ЁЯУБ MyDrive ржП рж╕рзНржмрж╛ржЧрждржо</h1>
┬а ┬а ┬а <p>ржПржЯрж┐ ржПржХржЯрж┐ ржкрж╛рж░рзНрж╕рзЛржирж╛рж▓ ржбрзНрж░рж╛ржЗржн ржпрзЗржЦрж╛ржирзЗ ржЖржкржирж┐ ржЖржкржирж╛рж░ ржлрж╛ржЗрж▓ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред</p>
┬а ┬а ┬а <p>ЁЯТ╗ Technologies Used: Node.js, Express, JSON Storage</p>
┬а ┬а ┬а <p>ЁЯУз ржпрзЛржЧрж╛ржпрзЛржЧ: admin@mydrive.com</p>
┬а ┬а </div>

┬а ┬а <div id="uploadSection">
┬а ┬а ┬а <form id="uploadForm">
┬а ┬а ┬а ┬а <input type="file" name="file" required />
┬а ┬а ┬а ┬а <button type="submit">ржЖржкрж▓рзЛржб</button>
┬а ┬а ┬а </form>
┬а ┬а </div>

┬а ┬а <progress id="progressBar" value="0" max="100"></progress>
┬а ┬а <p id="status"></p>

┬а ┬а <h2 id="uploadedTitle" style="display:none;">ржЖржкрж▓рзЛржбржХрзГржд ржлрж╛ржЗрж▓рж╕ржорзВрж╣</h2>
┬а ┬а <div id="fileList">ЁЯФД рж▓рзЛржб рж╣ржЪрзНржЫрзЗ...</div>
┬а </main>

┬а <script>
┬а ┬а const BACKUP_SERVER = 'https://drive-main-storage.onrender.com';

┬а ┬а function toggleDropdown() {
┬а ┬а ┬а const menu = document.getElementById('dropdownMenu');
┬а ┬а ┬а menu.classList.toggle('show');
┬а ┬а }

┬а ┬а window.addEventListener('click', function(e) {
┬а ┬а ┬а const menuBtn = document.querySelector('.menu');
┬а ┬а ┬а const dropdown = document.getElementById('dropdownMenu');
┬а ┬а ┬а if (!menuBtn.contains(e.target) && !dropdown.contains(e.target)) {
┬а ┬а ┬а ┬а dropdown.classList.remove('show');
┬а ┬а ┬а }
┬а ┬а });

┬а ┬а function setFilter(type) {
┬а ┬а ┬а localStorage.setItem('filterType', type);
┬а ┬а ┬а document.getElementById("fileList").style.display = "grid";
┬а ┬а ┬а document.getElementById("uploadedTitle").style.display = "block";
┬а ┬а ┬а document.getElementById("uploadSection").style.display = "flex";
┬а ┬а ┬а document.getElementById("homeIntro").style.display = "none";
┬а ┬а ┬а document.getElementById("fileList").innerHTML = "ЁЯФД рж▓рзЛржб рж╣ржЪрзНржЫрзЗ...";
┬а ┬а ┬а loadFiles();
┬а ┬а }

┬а ┬а async function loadFiles() {
┬а ┬а ┬а try {
┬а ┬а ┬а ┬а const res = await fetch(`${BACKUP_SERVER}/files`);
┬а ┬а ┬а ┬а const files = await res.json();
┬а ┬а ┬а ┬а const list = document.getElementById('fileList');
┬а ┬а ┬а ┬а const filter = localStorage.getItem('filterType') || 'all';

┬а ┬а ┬а ┬а const fileFilter = {
┬а ┬а ┬а ┬а ┬а images: ["jpg", "jpeg", "png", "gif"],
┬а ┬а ┬а ┬а ┬а videos: ["mp4", "mkv"],
┬а ┬а ┬а ┬а ┬а audios: ["mp3", "wav"],
┬а ┬а ┬а ┬а ┬а docs: ["pdf", "doc", "docx"]
┬а ┬а ┬а ┬а };

┬а ┬а ┬а ┬а list.innerHTML = '';

┬а ┬а ┬а ┬а files.reverse().forEach(file => {
┬а ┬а ┬а ┬а ┬а const name = file.name;
┬а ┬а ┬а ┬а ┬а const path = file.path;
┬а ┬а ┬а ┬а ┬а const ext = name.split('.').pop().toLowerCase();
┬а ┬а ┬а ┬а ┬а if (name === '.gitkeep') return;
┬а ┬а ┬а ┬а ┬а if (filter !== 'all' && !fileFilter[filter].includes(ext)) return;

┬а ┬а ┬а ┬а ┬а const card = document.createElement('div');
┬а ┬а ┬а ┬а ┬а card.className = 'file-card';

┬а ┬а ┬а ┬а ┬а const icon = document.createElement('div');
┬а ┬а ┬а ┬а ┬а icon.className = 'icon';
┬а ┬а ┬а ┬а ┬а icon.textContent = getFileIcon(name);

┬а ┬а ┬а ┬а ┬а const link = document.createElement('a');
┬а ┬а ┬а ┬а ┬а link.href = file.url;
┬а ┬а ┬а ┬а ┬а link.target = '_blank';
┬а ┬а ┬а ┬а ┬а link.textContent = name;

┬а ┬а ┬а ┬а ┬а const actions = document.createElement('div');
┬а ┬а ┬а ┬а ┬а actions.className = 'actions';

┬а ┬а ┬а ┬а ┬а const delBtn = document.createElement('button');
┬а ┬а ┬а ┬а ┬а delBtn.textContent = 'ЁЯЧСя╕П ржбрж┐рж▓рж┐ржЯ';
┬а ┬а ┬а ┬а ┬а delBtn.onclick = async () => {
┬а ┬а ┬а ┬а ┬а ┬а if (confirm('рждрзБржорж┐ ржХрж┐ ржбрж┐рж▓рж┐ржЯ ржХрж░рждрзЗ ржЪрж╛ржУ?')) {
┬а ┬а ┬а ┬а ┬а ┬а ┬а await fetch(`${BACKUP_SERVER}/delete?path=${encodeURIComponent(path)}`, { method: 'DELETE' });
┬а ┬а ┬а ┬а ┬а ┬а ┬а loadFiles();
┬а ┬а ┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а ┬а };

┬а ┬а ┬а ┬а ┬а const renameBtn = document.createElement('button');
┬а ┬а ┬а ┬а ┬а renameBtn.textContent = 'тЬПя╕П рж░рж┐ржирзЗржо';
┬а ┬а ┬а ┬а ┬а renameBtn.onclick = async () => {
┬а ┬а ┬а ┬а ┬а ┬а const newName = prompt('ржирждрзБржи ржирж╛ржо ржжрж┐ржи:', name);
┬а ┬а ┬а ┬а ┬а ┬а if (newName && newName !== name) {
┬а ┬а ┬а ┬а ┬а ┬а ┬а await fetch(`${BACKUP_SERVER}/rename`, {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а method: 'POST',
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а headers: { 'Content-Type': 'application/json' },
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а body: JSON.stringify({ oldPath: path, newPath: newName })
┬а ┬а ┬а ┬а ┬а ┬а ┬а });
┬а ┬а ┬а ┬а ┬а ┬а ┬а loadFiles();
┬а ┬а ┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а ┬а };

┬а ┬а ┬а ┬а ┬а actions.appendChild(renameBtn);
┬а ┬а ┬а ┬а ┬а actions.appendChild(delBtn);
┬а ┬а ┬а ┬а ┬а card.appendChild(icon);
┬а ┬а ┬а ┬а ┬а card.appendChild(link);
┬а ┬а ┬а ┬а ┬а card.appendChild(actions);
┬а ┬а ┬а ┬а ┬а list.appendChild(card);
┬а ┬а ┬а ┬а });
┬а ┬а ┬а } catch {
┬а ┬а ┬а ┬а document.getElementById("fileList").innerHTML = 'тЭМ ржлрж╛ржЗрж▓ рж▓рзЛржб ржХрж░рж╛ ржпрж╛ржпрж╝ржирж┐!';
┬а ┬а ┬а }
┬а ┬а }

┬а ┬а function getFileIcon(filename) {
┬а ┬а ┬а const ext = filename.split('.').pop().toLowerCase();
┬а ┬а ┬а if (["jpg", "jpeg", "png", "gif"].includes(ext)) return "ЁЯЦ╝я╕П";
┬а ┬а ┬а if (["mp4", "mkv"].includes(ext)) return "ЁЯОЮя╕П";
┬а ┬а ┬а if (["mp3", "wav"].includes(ext)) return "ЁЯО╡";
┬а ┬а ┬а if (["pdf", "doc", "docx"].includes(ext)) return "ЁЯУД";
┬а ┬а ┬а return "ЁЯУБ";
┬а ┬а }

┬а ┬а document.getElementById('uploadForm').addEventListener('submit', function(e) {
┬а ┬а ┬а e.preventDefault();
┬а ┬а ┬а const formData = new FormData(e.target);
┬а ┬а ┬а const status = document.getElementById('status');
┬а ┬а ┬а const progressBar = document.getElementById('progressBar');

┬а ┬а ┬а progressBar.style.display = 'block';
┬а ┬а ┬а progressBar.value = 0;
┬а ┬а ┬а status.textContent = 'ржЖржкрж▓рзЛржб рж╣ржЪрзНржЫрзЗ...';

┬а ┬а ┬а const xhr = new XMLHttpRequest();
┬а ┬а ┬а xhr.upload.onprogress = function(event) {
┬а ┬а ┬а ┬а if (event.lengthComputable) {
┬а ┬а ┬а ┬а ┬а progressBar.value = (event.loaded / event.total) * 100;
┬а ┬а ┬а ┬а }
┬а ┬а ┬а };
┬а ┬а ┬а xhr.onload = async function() {
┬а ┬а ┬а ┬а if (xhr.status === 200) {
┬а ┬а ┬а ┬а ┬а const data = JSON.parse(xhr.responseText);
┬а ┬а ┬а ┬а ┬а if (data.url) {
┬а ┬а ┬а ┬а ┬а ┬а status.textContent = 'тЬЕ рж╕ржлрж▓ржнрж╛ржмрзЗ ржЖржкрж▓рзЛржб рж╣ржпрж╝рзЗржЫрзЗ!';
┬а ┬а ┬а ┬а ┬а ┬а progressBar.style.display = 'none';
┬а ┬а ┬а ┬а ┬а ┬а e.target.reset();
┬а ┬а ┬а ┬а ┬а ┬а await loadFiles();
┬а ┬а ┬а ┬а ┬а } else {
┬а ┬а ┬а ┬а ┬а ┬а status.textContent = 'тЭМ ржЖржкрж▓рзЛржб ржмрзНржпрж░рзНрже рж╣ржпрж╝рзЗржЫрзЗ!';
┬а ┬а ┬а ┬а ┬а ┬а progressBar.style.display = 'none';
┬а ┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а }
┬а ┬а ┬а };
┬а ┬а ┬а xhr.onerror = () => {
┬а ┬а ┬а ┬а status.textContent = 'тЭМ ржЖржкрж▓рзЛржбрзЗ рж╕ржорж╕рзНржпрж╛ рж╣ржпрж╝рзЗржЫрзЗ!';
┬а ┬а ┬а ┬а progressBar.style.display = 'none';
┬а ┬а ┬а };
┬а ┬а ┬а xhr.open('POST', `${BACKUP_SERVER}/upload`);
┬а ┬а ┬а xhr.send(formData);
┬а ┬а });

┬а ┬а // Auto-load if filterType exists
┬а ┬а window.onload = () => {
┬а ┬а ┬а const saved = localStorage.getItem('filterType');
┬а ┬а ┬а if (saved) setFilter(saved);
┬а ┬а };
┬а </script>
</body>
</html>
